;==============================================================
;
; TASKS PROVIDED DYNAMICALLY BY NPC's
;	CoC 1.4.14 - DoctorX Questlines 1.10
;
;	Main faction: ALL NPC's
;	Strings file: st_quests_general.xml
;	Modified by: DoctorX
;	Last revised: November 03, 2016
;
;==============================================================

;=reward_random_item(stimpack:medkit:morphine:drug_booster:tetanus)
;=reward_random_item(tushonka:protein:beans:chili:nuts:mre:ration_ru:ration_ukr)
;=reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian)
;=reward_random_item(grenade_rgd5:grenade_f1:ammo_vog-25:ammo_m209:grenade_gd-05:mine_new:ied_rpg_new:ied_new)
;=reward_random_item(charcoal:kerosene__3:batteries_dead:gun_oil:gun_oil_ru_d:sharpening_stones:glue_b:glue_a)

;//////////////////////////////////////////////////////////////////////////////////////////////////
;
; SIMULATION TASKS
;
;	Modified by DoctorX
;	for DoctorX Questlines 1.10
;	November 03, 2016
;
;--------------------------------------------------------------------------------------------------

;------------------------------------------------
;-- Fetch Supplies
;------------------------------------------------
[simulation_task_1]

icon = ui_inGame2_D_Sisshik
storyline = false
prior = 20
sim_communities = csky
repeat_timeout = 21600
;precondition = true

title = simulation_task_1_name
title_functor = general_fetch_task
descr = simulation_task_1_text
descr_functor = general_fetch_task
job_descr = simulation_task_1_about
fetch_descr = simulation_task_1_fetch_about
task_complete_descr = simulation_task_1_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_1)} fail

fetch_func = %=setup_fetch_task(simulation_task_1_fetch:supplies:1:4)%
on_complete = %=fetch_reward_and_remove(simulation_task_1_fetch:0.8) =reward_stash(true) =complete_task_inc_goodwill(50:csky) =inc_task_stage(simulation_task_1) =pstor_reset(simulation_task_1_fetch) =drx_sl_unregister_task_giver(simulation_task_1) =drx_sl_reset_stored_task(simulation_task_1)%
on_fail = %=fail_task_dec_goodwill(25:csky) =pstor_reset(simulation_task_1_fetch) =drx_sl_unregister_task_giver(simulation_task_1) =drx_sl_reset_stored_task(simulation_task_1)%


;------------------------------------------------
[simulation_task_2]

icon = ui_inGame2_D_Sisshik
storyline = false
prior = 20
sim_communities = freedom
repeat_timeout = 21600
;precondition = true

title = simulation_task_2_name
title_functor = general_fetch_task
descr = simulation_task_2_text
descr_functor = general_fetch_task
job_descr = simulation_task_2_about
fetch_descr = simulation_task_2_fetch_about
task_complete_descr = simulation_task_2_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_2)} fail

fetch_func = %=setup_fetch_task(simulation_task_2_fetch:supplies:1:4)%
on_complete = %=fetch_reward_and_remove(simulation_task_2_fetch:0.9) =reward_stash(true) =complete_task_inc_goodwill(50:freedom) =inc_task_stage(simulation_task_2) =pstor_reset(simulation_task_2_fetch) =drx_sl_unregister_task_giver(simulation_task_2) =drx_sl_reset_stored_task(simulation_task_2)%
on_fail = %=fail_task_dec_goodwill(25:freedom) =pstor_reset(simulation_task_2_fetch) =drx_sl_unregister_task_giver(simulation_task_2) =drx_sl_reset_stored_task(simulation_task_2)%


;------------------------------------------------
[simulation_task_3]

icon = ui_inGame2_D_Sisshik
storyline = false
prior = 20
sim_communities = bandit
repeat_timeout = 21600
;precondition = true

title = simulation_task_3_name
title_functor = general_fetch_task
descr = simulation_task_3_text
descr_functor = general_fetch_task
job_descr = simulation_task_3_about
fetch_descr = simulation_task_3_fetch_about
task_complete_descr = simulation_task_3_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_3)} fail

fetch_func = %=setup_fetch_task(simulation_task_3_fetch:supplies:1:4)%
on_complete = %=fetch_reward_and_remove(simulation_task_3_fetch:0.9) =reward_stash(true) =complete_task_inc_goodwill(50:bandit) =inc_task_stage(simulation_task_3) =pstor_reset(simulation_task_3_fetch) =drx_sl_unregister_task_giver(simulation_task_3) =drx_sl_reset_stored_task(simulation_task_3)%
on_fail = %=fail_task_dec_goodwill(25:bandit) =pstor_reset(simulation_task_3_fetch) =drx_sl_unregister_task_giver(simulation_task_3) =drx_sl_reset_stored_task(simulation_task_3)%


;------------------------------------------------
[simulation_task_4]

icon = ui_inGame2_D_Sisshik
storyline = false
prior = 20
sim_communities = army
repeat_timeout = 21600
;precondition = true

title = simulation_task_4_name
title_functor = general_fetch_task
descr = simulation_task_4_text
descr_functor = general_fetch_task
job_descr = simulation_task_4_about
fetch_descr = simulation_task_4_fetch_about
task_complete_descr = simulation_task_4_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_4)} fail

fetch_func = %=setup_fetch_task(simulation_task_4_fetch:supplies:1:4)%
on_complete = %=fetch_reward_and_remove(simulation_task_4_fetch:0.8) =reward_stash(true) =complete_task_inc_goodwill(50:army) =inc_task_stage(simulation_task_4) =pstor_reset(simulation_task_4_fetch) =drx_sl_unregister_task_giver(simulation_task_4) =drx_sl_reset_stored_task(simulation_task_4)%
on_fail = %=fail_task_dec_goodwill(25:army) =pstor_reset(simulation_task_4_fetch) =drx_sl_unregister_task_giver(simulation_task_4) =drx_sl_reset_stored_task(simulation_task_4)%


;------------------------------------------------
[simulation_task_5]

icon = ui_inGame2_D_Sisshik
storyline = false
prior = 20
sim_communities = monolith
repeat_timeout = 21600
;precondition = true

title = simulation_task_5_name
title_functor = general_fetch_task
descr = simulation_task_5_text
descr_functor = general_fetch_task
job_descr = simulation_task_5_about
fetch_descr = simulation_task_5_fetch_about
task_complete_descr = simulation_task_5_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_5)} fail

fetch_func = %=setup_fetch_task(simulation_task_5_fetch:supplies:1:4)%
on_complete = %=fetch_reward_and_remove(simulation_task_5_fetch:0.8) =reward_stash(true) =complete_task_inc_goodwill(50:monolith) =inc_task_stage(simulation_task_5) =pstor_reset(simulation_task_5_fetch) =drx_sl_unregister_task_giver(simulation_task_5) =drx_sl_reset_stored_task(simulation_task_5)%
on_fail = %=fail_task_dec_goodwill(25:monolith) =pstor_reset(simulation_task_5_fetch) =drx_sl_unregister_task_giver(simulation_task_5) =drx_sl_reset_stored_task(simulation_task_5)%


;------------------------------------------------
[simulation_task_6]

icon = ui_inGame2_D_Sisshik
storyline = false
prior = 20
sim_communities = killer
repeat_timeout = 21600
;precondition = true

title = simulation_task_6_name
title_functor = general_fetch_task
descr = simulation_task_6_text
descr_functor = general_fetch_task
job_descr = simulation_task_6_about
fetch_descr = simulation_task_6_fetch_about
task_complete_descr = simulation_task_6_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_6)} fail

fetch_func = %=setup_fetch_task(simulation_task_6_fetch:supplies:1:4)%
on_complete = %=fetch_reward_and_remove(simulation_task_6_fetch:0.8) =complete_task_inc_goodwill(50:killer) =inc_task_stage(simulation_task_6) =pstor_reset(simulation_task_6_fetch) =drx_sl_unregister_task_giver(simulation_task_6) =drx_sl_reset_stored_task(simulation_task_6)%
on_fail = %=fail_task_dec_goodwill(25:killer) =pstor_reset(simulation_task_6_fetch) =drx_sl_unregister_task_giver(simulation_task_6) =drx_sl_reset_stored_task(simulation_task_6)%


;------------------------------------------------
;-- Fetch Weapon
;------------------------------------------------
[simulation_task_7]

icon = ui_inGame2_Neizvestnoe_oruzhie
storyline = false
prior = 28
sim_communities = stalker
repeat_timeout = 21600
;precondition = true

title = simulation_task_7_name
title_functor = general_fetch_task
descr = simulation_task_7_text
descr_functor = general_fetch_task
job_descr = simulation_task_7_about
fetch_descr = simulation_task_7_fetch_about
task_complete_descr = simulation_task_7_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_7)} fail

fetch_func = %=setup_fetch_task(simulation_task_7_fetch:weapons:1:1)%
on_complete = %=fetch_reward_and_remove(simulation_task_7_fetch:0.7) =reward_stash(true) =complete_task_inc_goodwill(50:stalker) =inc_task_stage(simulation_task_7) =pstor_reset(simulation_task_7_fetch) =drx_sl_unregister_task_giver(simulation_task_7) =drx_sl_reset_stored_task(simulation_task_7)%
on_fail = %=fail_task_dec_goodwill(25:stalker) =pstor_reset(simulation_task_7_fetch) =drx_sl_unregister_task_giver(simulation_task_7) =drx_sl_reset_stored_task(simulation_task_7)%


;------------------------------------------------
[simulation_task_8]

icon = ui_inGame2_Neizvestnoe_oruzhie
storyline = false
prior = 28
sim_communities = dolg
repeat_timeout = 21600
;precondition = true

title = simulation_task_8_name
title_functor = general_fetch_task
descr = simulation_task_8_text
descr_functor = general_fetch_task
job_descr = simulation_task_8_about
fetch_descr = simulation_task_8_fetch_about
task_complete_descr = simulation_task_8_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_8)} fail

fetch_func = %=setup_fetch_task(simulation_task_8_fetch:weapons:1:1)%
on_complete = %=fetch_reward_and_remove(simulation_task_8_fetch:0.7) =reward_stash(true) =complete_task_inc_goodwill(50:dolg) =inc_task_stage(simulation_task_8) =pstor_reset(simulation_task_8_fetch) =drx_sl_unregister_task_giver(simulation_task_8) =drx_sl_reset_stored_task(simulation_task_8)%
on_fail = %=fail_task_dec_goodwill(25:dolg) =pstor_reset(simulation_task_8_fetch) =drx_sl_unregister_task_giver(simulation_task_8) =drx_sl_reset_stored_task(simulation_task_8)%


;------------------------------------------------
[simulation_task_9]

icon = ui_inGame2_Neizvestnoe_oruzhie
storyline = false
prior = 28
sim_communities = bandit
repeat_timeout = 21600
;precondition = true

title = simulation_task_9_name
title_functor = general_fetch_task
descr = simulation_task_9_text
descr_functor = general_fetch_task
job_descr = simulation_task_9_about
fetch_descr = simulation_task_9_fetch_about
task_complete_descr = simulation_task_9_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_9)} fail

fetch_func = %=setup_fetch_task(simulation_task_9_fetch:weapons:1:1)%
on_complete = %=fetch_reward_and_remove(simulation_task_9_fetch:0.7) =reward_stash(true) =complete_task_inc_goodwill(50:bandit) =inc_task_stage(simulation_task_9) =pstor_reset(simulation_task_9_fetch) =drx_sl_unregister_task_giver(simulation_task_9) =drx_sl_reset_stored_task(simulation_task_9)%
on_fail = %=fail_task_dec_goodwill(25:bandit) =pstor_reset(simulation_task_9_fetch) =drx_sl_unregister_task_giver(simulation_task_9) =drx_sl_reset_stored_task(simulation_task_9)%


;------------------------------------------------
[simulation_task_10]

icon = ui_inGame2_Neizvestnoe_oruzhie
storyline = false
prior = 28
sim_communities = killer
repeat_timeout = 21600
;precondition = true

title = simulation_task_10_name
title_functor = general_fetch_task
descr = simulation_task_10_text
descr_functor = general_fetch_task
job_descr = simulation_task_10_about
fetch_descr = simulation_task_10_fetch_about
task_complete_descr = simulation_task_10_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_10)} fail

fetch_func = %=setup_fetch_task(simulation_task_10_fetch:weapons:1:1)%
on_complete = %=fetch_reward_and_remove(simulation_task_10_fetch:0.8) =complete_task_inc_goodwill(50:killer) =inc_task_stage(simulation_task_10) =pstor_reset(simulation_task_10_fetch) =drx_sl_unregister_task_giver(simulation_task_10) =drx_sl_reset_stored_task(simulation_task_10)%
on_fail = %=fail_task_dec_goodwill(25:killer) =pstor_reset(simulation_task_10_fetch) =drx_sl_unregister_task_giver(simulation_task_10) =drx_sl_reset_stored_task(simulation_task_10)%


;------------------------------------------------
[simulation_task_11]

icon = ui_inGame2_Neizvestnoe_oruzhie
storyline = false
prior = 28
sim_communities = army
repeat_timeout = 21600
;precondition = true

title = simulation_task_11_name
title_functor = general_fetch_task
descr = simulation_task_11_text
descr_functor = general_fetch_task
job_descr = simulation_task_11_about
fetch_descr = simulation_task_11_fetch_about
task_complete_descr = simulation_task_11_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_11)} fail

fetch_func = %=setup_fetch_task(simulation_task_11_fetch:weapons:1:1)%
on_complete = %=fetch_reward_and_remove(simulation_task_11_fetch:0.7) =reward_stash(true) =complete_task_inc_goodwill(50:army) =inc_task_stage(simulation_task_11) =pstor_reset(simulation_task_11_fetch) =drx_sl_unregister_task_giver(simulation_task_11) =drx_sl_reset_stored_task(simulation_task_11)%
on_fail = %=fail_task_dec_goodwill(25:army) =pstor_reset(simulation_task_11_fetch) =drx_sl_unregister_task_giver(simulation_task_11) =drx_sl_reset_stored_task(simulation_task_11)%


;------------------------------------------------
;-- Fetch Artefacts
;------------------------------------------------
[simulation_task_12]

icon = ui_inGame2_Kontrakt_s_uchenimi
storyline = false
prior = 25
sim_communities = stalker
repeat_timeout = 21600
;precondition = true

title = simulation_task_12_name
title_functor = general_fetch_task
descr = simulation_task_12_text
descr_functor = general_fetch_task
job_descr = simulation_task_12_about
fetch_descr = simulation_task_12_fetch_about
task_complete_descr = simulation_task_12_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_12)} fail

fetch_func = %=setup_fetch_task(simulation_task_12_fetch:artefacts:1:1)%
on_complete = %=fetch_reward_and_remove(simulation_task_12_fetch:1.0) =reward_stash(true) =complete_task_inc_goodwill(50:stalker) =inc_task_stage(simulation_task_12) =pstor_reset(simulation_task_12_fetch) =drx_sl_unregister_task_giver(simulation_task_12) =drx_sl_reset_stored_task(simulation_task_12)%
on_fail = %=fail_task_dec_goodwill(25:stalker) =pstor_reset(simulation_task_12_fetch) =drx_sl_unregister_task_giver(simulation_task_12) =drx_sl_reset_stored_task(simulation_task_12)%


;------------------------------------------------
[simulation_task_13]

icon = ui_inGame2_Kontrakt_s_uchenimi
storyline = false
prior = 25
sim_communities = army
repeat_timeout = 21600
;precondition = true

title = simulation_task_13_name
title_functor = general_fetch_task
descr = simulation_task_13_text
descr_functor = general_fetch_task
job_descr = simulation_task_13_about
fetch_descr = simulation_task_13_fetch_about
task_complete_descr = simulation_task_13_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_13)} fail

fetch_func = %=setup_fetch_task(simulation_task_13_fetch:artefacts:1:1)%
on_complete = %=fetch_reward_and_remove(simulation_task_13_fetch:1.0) =reward_stash(true) =complete_task_inc_goodwill(50:army) =inc_task_stage(simulation_task_13) =pstor_reset(simulation_task_13_fetch) =drx_sl_unregister_task_giver(simulation_task_13) =drx_sl_reset_stored_task(simulation_task_13)%
on_fail = %=fail_task_dec_goodwill(25:army) =pstor_reset(simulation_task_13_fetch) =drx_sl_unregister_task_giver(simulation_task_13) =drx_sl_reset_stored_task(simulation_task_13)%


;------------------------------------------------
;-- Fetch Mutant Meat
;------------------------------------------------
[simulation_task_14]

icon = ui_inGame2_Pripasi
storyline = false
prior = 30
sim_communities = csky
repeat_timeout = 21600
;precondition = true

title = simulation_task_14_name
title_functor = general_fetch_task
descr = simulation_task_14_text
descr_functor = general_fetch_task
job_descr = simulation_task_14_about
fetch_descr = simulation_task_14_fetch_about
task_complete_descr = simulation_task_14_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_14)} fail

fetch_func = %=setup_fetch_task(simulation_task_14_fetch:mutant_meat:4:6)%
on_complete = %=fetch_reward_and_remove(simulation_task_14_fetch:1.4) =reward_stash(true) =complete_task_inc_goodwill(50:csky) =inc_task_stage(simulation_task_14) =pstor_reset(simulation_task_14_fetch) =drx_sl_unregister_task_giver(simulation_task_14) =drx_sl_reset_stored_task(simulation_task_14)%
on_fail = %=fail_task_dec_goodwill(25:csky) =pstor_reset(simulation_task_14_fetch) =drx_sl_unregister_task_giver(simulation_task_14) =drx_sl_reset_stored_task(simulation_task_14)%


;------------------------------------------------
[simulation_task_15]

icon = ui_inGame2_Pripasi
storyline = false
prior = 30
sim_communities = bandit
repeat_timeout = 21600
;precondition = true

title = simulation_task_15_name
title_functor = general_fetch_task
descr = simulation_task_15_text
descr_functor = general_fetch_task
job_descr = simulation_task_15_about
fetch_descr = simulation_task_15_fetch_about
task_complete_descr = simulation_task_15_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_15)} fail

fetch_func = %=setup_fetch_task(simulation_task_15_fetch:mutant_meat:4:6)%
on_complete = %=fetch_reward_and_remove(simulation_task_15_fetch:1.4) =reward_stash(true) =complete_task_inc_goodwill(50:bandit) =inc_task_stage(simulation_task_15) =pstor_reset(simulation_task_15_fetch) =drx_sl_unregister_task_giver(simulation_task_15) =drx_sl_reset_stored_task(simulation_task_15)%
on_fail = %=fail_task_dec_goodwill(25:bandit) =pstor_reset(simulation_task_15_fetch) =drx_sl_unregister_task_giver(simulation_task_15) =drx_sl_reset_stored_task(simulation_task_15)%


;------------------------------------------------
;-- Fetch Mutant Parts
;------------------------------------------------
[simulation_task_16]

icon = ui_inGame2_Logovo_krovososov
storyline = false
prior = 35
sim_communities = ecolog
repeat_timeout = 21600
;precondition = true

title = simulation_task_16_name
title_functor = general_fetch_task
descr = simulation_task_16_text
descr_functor = general_fetch_task
job_descr = simulation_task_16_about
fetch_descr = simulation_task_16_fetch_about
task_complete_descr = simulation_task_16_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_16)} fail

fetch_func = %=setup_fetch_task(simulation_task_16_fetch:mutant_parts:1:1)%
on_complete = %=fetch_reward_and_remove(simulation_task_16_fetch:2) =reward_stash(true) =complete_task_inc_goodwill(50:ecolog) =inc_task_stage(simulation_task_16) =pstor_reset(simulation_task_16_fetch) =drx_sl_unregister_task_giver(simulation_task_16) =drx_sl_reset_stored_task(simulation_task_16)%
on_fail = %=fail_task_dec_goodwill(25:ecolog) =pstor_reset(simulation_task_16_fetch) =drx_sl_unregister_task_giver(simulation_task_16) =drx_sl_reset_stored_task(simulation_task_16)%


;------------------------------------------------
;-- Fetch Patches
;------------------------------------------------
[simulation_task_17]
icon = ui_iconsTotal_find_item
prior = 90
repeat_timeout = 14400
storyline = false
sim_communities = freedom
title = simulation_task_17_name
title_functor = general_fetch_task
descr = simulation_task_17_text
descr_functor = general_fetch_task
job_descr = simulation_task_17_about
fetch_descr = simulation_task_17_fetch_about
fetch_func = %=setup_fetch_task(simulation_task_17_fetch:patch_mlr_freedom:5:15)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_17_fetch_finish
;precondition = true
on_complete = %=reward_stash(true) =complete_task_inc_goodwill(50:freedom) =remove_fetch_item(simulation_task_17_fetch) =inc_task_stage(simulation_task_17) =reward_random_item(af_lighthouse:af_atom:af_cell:af_medusa:af_cristall) =pstor_reset(simulation_task_17_fetch)%
on_fail = %=pstor_reset(simulation_task_17_fetch)%
on_cancel = %=pstor_reset(simulation_task_17_fetch)%
condlist_0 = {!task_giver_alive(simulation_task_17)} fail


;------------------------------------------------
[simulation_task_18]
icon = ui_iconsTotal_find_item
prior = 90
repeat_timeout = 14400
storyline = false
sim_communities = dolg
title = simulation_task_18_name
title_functor = general_fetch_task
descr = simulation_task_18_text
descr_functor = general_fetch_task
job_descr = simulation_task_18_about
fetch_descr = simulation_task_18_fetch_about
fetch_func = %=setup_fetch_task(simulation_task_18_fetch:patch_mlr_duty:5:15)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_18_fetch_finish
;precondition = true
on_complete = %=reward_stash(true) =complete_task_inc_goodwill(50:dolg) =remove_fetch_item(simulation_task_18_fetch) =inc_task_stage(simulation_task_18) =reward_random_item(af_lighthouse:af_atom:af_cell:af_medusa:af_cristall) =pstor_reset(simulation_task_18_fetch)%
on_fail = %=pstor_reset(simulation_task_18_fetch)%
on_cancel = %=pstor_reset(simulation_task_18_fetch)%
condlist_0 = {!task_giver_alive(simulation_task_18)} fail


;------------------------------------------------
[simulation_task_19]
icon = ui_iconsTotal_find_item
prior = 90
repeat_timeout = 14400
storyline = false
sim_communities = stalker, csky
title = simulation_task_19_name
title_functor = general_fetch_task
descr = simulation_task_19_text
descr_functor = general_fetch_task
job_descr = simulation_task_19_about
fetch_descr = simulation_task_19_fetch_about
fetch_func = %=setup_fetch_task(simulation_task_19_fetch:patch_mlr_stalker:5:15)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_19_fetch_finish
;precondition = true
on_complete = %=reward_stash(true) =complete_task_inc_goodwill(50:stalker) =remove_fetch_item(simulation_task_19_fetch) =inc_task_stage(simulation_task_19) =reward_random_item(af_lighthouse:af_atom:af_cell:af_medusa:af_cristall) =pstor_reset(simulation_task_19_fetch)%
on_fail = %=pstor_reset(simulation_task_19_fetch)%
on_cancel = %=pstor_reset(simulation_task_19_fetch)%
condlist_0 = {!task_giver_alive(simulation_task_19)} fail


;------------------------------------------------
[simulation_task_20]
icon = ui_iconsTotal_find_item
prior = 90
repeat_timeout = 14400
storyline = false
sim_communities = bandit
title = simulation_task_20_name
title_functor = general_fetch_task
descr = simulation_task_20_text
descr_functor = general_fetch_task
job_descr = simulation_task_20_about
fetch_descr = simulation_task_20_fetch_about
fetch_func = %=setup_fetch_task(simulation_task_20_fetch:patch_mlr_bandit:5:15)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_20_fetch_finish
;precondition = true
on_complete = %=reward_stash(true) =complete_task_inc_goodwill(50:bandit) =remove_fetch_item(simulation_task_20_fetch) =inc_task_stage(simulation_task_20) =reward_random_item(af_lighthouse:af_atom:af_cell:af_medusa:af_cristall) =pstor_reset(simulation_task_20_fetch)%
on_fail = %=pstor_reset(simulation_task_20_fetch)%
on_cancel = %=pstor_reset(simulation_task_20_fetch)%
condlist_0 = {!task_giver_alive(simulation_task_20)} fail


;------------------------------------------------
;-- Fetch Equipment
;------------------------------------------------
[simulation_task_21]
icon = ui_icons_stash20
storyline = false
prior = 25
sim_communities = stalker, bandit, csky, renegade
repeat_timeout = 43200
;precondition = true

title = simulation_task_21_name
title_functor = general_fetch_task
descr = simulation_task_21_text
descr_functor = general_fetch_task
job_descr = simulation_task_21_about
fetch_descr = simulation_task_21_fetch_about
task_complete_descr = simulation_task_21_fetch_finish

stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
condlist_0 = {!task_giver_alive(simulation_task_21)} fail

fetch_func = %=setup_fetch_task(simulation_task_21_fetch:utility_2:1:2)%
on_complete = %=reward_stash(true) =fetch_reward_and_remove(simulation_task_21_fetch:1.0) =inc_goodwill_by_tasker_id(simulation_task_21:50) =inc_task_stage(simulation_task_21) =pstor_reset(simulation_task_21_fetch) =drx_sl_unregister_task_giver(simulation_task_21) =drx_sl_reset_stored_task(simulation_task_21)%
on_fail = %=pstor_reset(simulation_task_21_fetch) =drx_sl_unregister_task_giver(simulation_task_21) =drx_sl_reset_stored_task(simulation_task_21)%
on_cancel = %=pstor_reset(simulation_task_21_fetch) =drx_sl_unregister_task_giver(simulation_task_21) =drx_sl_reset_stored_task(simulation_task_21)%


;------------------------------------------------
[simulation_task_22]
icon = ui_icons_stash20
storyline = false
prior = 25
sim_communities = army, bandit, csky, dolg, freedom, killer, stalker, isg
repeat_timeout = 43200
;precondition = true

title = simulation_task_22_name
title_functor = general_fetch_task
descr = simulation_task_22_text
descr_functor = general_fetch_task
job_descr = simulation_task_22_about
fetch_descr = simulation_task_22_fetch_about
task_complete_descr = simulation_task_22_fetch_finish

stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
condlist_0 = {!task_giver_alive(simulation_task_22)} fail

fetch_func = %=setup_fetch_task(simulation_task_22_fetch:utility_1:4:5)%
on_complete = %=reward_stash(true) =fetch_reward_and_remove(simulation_task_22_fetch:1.0) =inc_goodwill_by_tasker_id(simulation_task_22:50) =inc_task_stage(simulation_task_22) =pstor_reset(simulation_task_22_fetch) =drx_sl_unregister_task_giver(simulation_task_22) =drx_sl_reset_stored_task(simulation_task_22)%
on_fail = %=pstor_reset(simulation_task_22_fetch) =drx_sl_unregister_task_giver(simulation_task_22) =drx_sl_reset_stored_task(simulation_task_22)%
on_cancel = %=pstor_reset(simulation_task_22_fetch) =drx_sl_unregister_task_giver(simulation_task_22) =drx_sl_reset_stored_task(simulation_task_22)%


;------------------------------------------------
;-- Fetch Repair Kits
;------------------------------------------------
[simulation_task_23]
icon = ui_icons_stash20
storyline = false
prior = 25
sim_communities = army, bandit, csky, dolg, ecolog, freedom, killer, stalker, isg
repeat_timeout = 43200
;precondition = true

title = simulation_task_23_name
title_functor = general_fetch_task
descr = simulation_task_23_text
descr_functor = general_fetch_task
job_descr = simulation_task_23_about
fetch_descr = simulation_task_23_fetch_about
task_complete_descr = simulation_task_23_fetch_finish

stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
condlist_0 = {!task_giver_alive(simulation_task_23)} fail

fetch_func = %=setup_fetch_task(simulation_task_23_fetch:repair:3:5)%
on_complete = %=reward_stash(true) =fetch_reward_and_remove(simulation_task_23_fetch:1.0) =inc_goodwill_by_tasker_id(simulation_task_23:50) =inc_task_stage(simulation_task_23) =pstor_reset(simulation_task_23_fetch) =drx_sl_unregister_task_giver(simulation_task_23) =drx_sl_reset_stored_task(simulation_task_23)%
on_fail = %=pstor_reset(simulation_task_23_fetch) =drx_sl_unregister_task_giver(simulation_task_23) =drx_sl_reset_stored_task(simulation_task_23)%
on_cancel = %=pstor_reset(simulation_task_23_fetch) =drx_sl_unregister_task_giver(simulation_task_23) =drx_sl_reset_stored_task(simulation_task_23)%


;------------------------------------------------
;-- Fetch Upgrade Part
;------------------------------------------------
[simulation_task_24]
icon = ui_inGame2_Istoriya_dolga
storyline = false
prior = 25
sim_communities = army, dolg, freedom, stalker, bandit, csky, killer, isg
repeat_timeout = 43200
;precondition = true

title = simulation_task_24_name
title_functor = general_fetch_task
descr = simulation_task_24_text
descr_functor = general_fetch_task
job_descr = simulation_task_24_about
fetch_descr = simulation_task_24_fetch_about
task_complete_descr = simulation_task_24_fetch_finish

stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
condlist_0 = {!task_giver_alive(simulation_task_24)} fail

fetch_func = %=setup_fetch_task(simulation_task_24_fetch:o_upgrade_kits:1:1)%
on_complete = %=reward_stash(true) =fetch_reward_and_remove(simulation_task_24_fetch:1.0) =inc_goodwill_by_tasker_id(simulation_task_24:50) =inc_task_stage(simulation_task_24) =pstor_reset(simulation_task_24_fetch) =drx_sl_unregister_task_giver(simulation_task_24) =drx_sl_reset_stored_task(simulation_task_24)%
on_fail = %=pstor_reset(simulation_task_24_fetch) =drx_sl_unregister_task_giver(simulation_task_24) =drx_sl_reset_stored_task(simulation_task_24)%
on_cancel = %=pstor_reset(simulation_task_24_fetch) =drx_sl_unregister_task_giver(simulation_task_24) =drx_sl_reset_stored_task(simulation_task_24)%

;------------------------------------------------
[simulation_task_25]
icon = ui_inGame2_Istoriya_dolga
storyline = false
prior = 25
sim_communities = army, dolg, freedom, stalker, bandit, csky, killer, isg
repeat_timeout = 43200
;precondition = true

title = simulation_task_25_name
title_functor = general_fetch_task
descr = simulation_task_25_text
descr_functor = general_fetch_task
job_descr = simulation_task_25_about
fetch_descr = simulation_task_25_fetch_about
task_complete_descr = simulation_task_25_fetch_finish

stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
condlist_0 = {!task_giver_alive(simulation_task_25)} fail

fetch_func = %=setup_fetch_task(simulation_task_25_fetch:w_upgrade_kits:1:1)%
on_complete = %=reward_stash(true) =fetch_reward_and_remove(simulation_task_25_fetch:1.0) =inc_goodwill_by_tasker_id(simulation_task_25:50) =inc_task_stage(simulation_task_25) =pstor_reset(simulation_task_25_fetch) =drx_sl_unregister_task_giver(simulation_task_25) =drx_sl_reset_stored_task(simulation_task_25)%
on_fail = %=pstor_reset(simulation_task_25_fetch) =drx_sl_unregister_task_giver(simulation_task_25) =drx_sl_reset_stored_task(simulation_task_25)%
on_cancel = %=pstor_reset(simulation_task_25_fetch) =drx_sl_unregister_task_giver(simulation_task_25) =drx_sl_reset_stored_task(simulation_task_25)%

;------------------------------------------------
;-- Hostage
;------------------------------------------------
[simulation_task_26]

icon = ui_inGame2_Zalozhnik
storyline = false
prior = 95
sim_communities = stalker
repeat_timeout = 21600
precondition = {-hostage_companion_task_1_started -hostage_companion_task_1_hostage_rescued =validate_assault_task(simulation_task_26:2:1:nil:false:true:nil) !squad_exist(hostage_companion_task_1)} true, false

title = simulation_task_26_name
descr = simulation_task_26_text
job_descr = simulation_task_26_about
task_complete_descr = simulation_task_26_finish

stage_complete = 1
target_functor = simulation_task_target
status_functor = hostage_task
status_functor_params = bandit
condlist_0 = {!squad_exist(hostage_companion_task_1)} fail
condlist_1 = {!task_giver_alive(simulation_task_26)} fail

on_job_descr = %=setup_assault_task(simulation_task_26)%
on_init = %=setup_companion_task(hostage_companion_task_1_stalker:nil:simulation_task_26:true:true) +hostage_companion_task_1_started%
on_complete = %=reward_random_money(6500:7000) =reward_random_item(tushonka:protein:beans:chili:nuts:mre:ration_ru:ration_ukr) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =reward_stash(true) =complete_task_inc_goodwill(50:stalker) =remove_special_task_squad(hostage_companion_task_1) -hostage_companion_task_1_hostage_rescued -hostage_companion_task_1_started =inc_task_stage(simulation_task_26) =unlock_smart(simulation_task_26) =drx_sl_unregister_hostage_giver(simulation_task_26) =drx_sl_unregister_task_giver(simulation_task_26) =drx_sl_reset_stored_task(simulation_task_26)%
on_fail = %=unlock_smart(simulation_task_26) =fail_task_dec_goodwill(25:stalker) -hostage_companion_task_1_hostage_rescued -hostage_companion_task_1_started =drx_sl_unregister_hostage_giver(simulation_task_26) =drx_sl_unregister_task_giver(simulation_task_26) =drx_sl_reset_stored_task(simulation_task_26)%


;------------------------------------------------
[simulation_task_27]

icon = ui_inGame2_Zalozhnik
storyline = false
prior = 95
sim_communities = dolg
repeat_timeout = 21600
precondition = {-hostage_companion_task_1_started -hostage_companion_task_1_hostage_rescued =validate_assault_task(simulation_task_27:2:1:nil:false:true:nil) !squad_exist(hostage_companion_task_1)} true, false

title = simulation_task_27_name
descr = simulation_task_27_text
job_descr = simulation_task_27_about
task_complete_descr = simulation_task_27_finish

stage_complete = 1
target_functor = simulation_task_target
status_functor = hostage_task
status_functor_params = freedom
condlist_0 = {!squad_exist(hostage_companion_task_1)} fail
condlist_1 = {!task_giver_alive(simulation_task_27)} fail

on_job_descr = %=setup_assault_task(simulation_task_27)%
on_init = %=setup_companion_task(hostage_companion_task_1_dolg:nil:simulation_task_27:true:true) +hostage_companion_task_1_started%
on_complete = %=reward_random_money(8500:9000) =reward_random_item(grenade_rgd5:grenade_f1:ammo_m209:mine_new:ied_rpg_new:ied_new) =reward_stash(true) =complete_task_inc_goodwill(50:dolg) =remove_special_task_squad(hostage_companion_task_1) -hostage_companion_task_1_hostage_rescued -hostage_companion_task_1_started =inc_task_stage(simulation_task_27) =unlock_smart(simulation_task_27) =drx_sl_unregister_hostage_giver(simulation_task_27) =drx_sl_unregister_task_giver(simulation_task_27) =drx_sl_reset_stored_task(simulation_task_27)%
on_fail = %=unlock_smart(simulation_task_27) =fail_task_dec_goodwill(25:dolg) -hostage_companion_task_1_hostage_rescued -hostage_companion_task_1_started =drx_sl_unregister_hostage_giver(simulation_task_27) =drx_sl_unregister_task_giver(simulation_task_27) =drx_sl_reset_stored_task(simulation_task_27)%


;------------------------------------------------
[simulation_task_28]

icon = ui_inGame2_Zalozhnik
storyline = false
prior = 95
sim_communities = freedom
repeat_timeout = 21600
precondition = {-hostage_companion_task_1_started -hostage_companion_task_1_hostage_rescued =validate_assault_task(simulation_task_28:2:1:nil:false:true:nil) !squad_exist(hostage_companion_task_1)} true, false

title = simulation_task_28_name
descr = simulation_task_28_text
job_descr = simulation_task_28_about
task_complete_descr = simulation_task_28_finish

stage_complete = 1
target_functor = simulation_task_target
status_functor = hostage_task
status_functor_params = monolith
condlist_0 = {!squad_exist(hostage_companion_task_1)} fail
condlist_1 = {!task_giver_alive(simulation_task_28)} fail

on_job_descr = %=setup_assault_task(simulation_task_28)%
on_init = %=setup_companion_task(hostage_companion_task_1_freedom:nil:simulation_task_28:true:true) +hostage_companion_task_1_started%
on_complete = %=reward_random_money(8000:9000) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =reward_stash(true) =complete_task_inc_goodwill(50:freedom) =remove_special_task_squad(hostage_companion_task_1) -hostage_companion_task_1_hostage_rescued -hostage_companion_task_1_started =inc_task_stage(simulation_task_28) =unlock_smart(simulation_task_28) =drx_sl_unregister_hostage_giver(simulation_task_28) =drx_sl_unregister_task_giver(simulation_task_28) =drx_sl_reset_stored_task(simulation_task_28)%
on_fail = %=unlock_smart(simulation_task_28) =fail_task_dec_goodwill(25:freedom) -hostage_companion_task_1_hostage_rescued -hostage_companion_task_1_started =drx_sl_unregister_hostage_giver(simulation_task_28) =drx_sl_unregister_task_giver(simulation_task_28) =drx_sl_reset_stored_task(simulation_task_28)%


;------------------------------------------------
[simulation_task_29]

icon = ui_inGame2_Zalozhnik
storyline = false
prior = 95
sim_communities = ecolog
repeat_timeout = 21600
precondition = {-hostage_companion_task_1_started -hostage_companion_task_1_hostage_rescued =validate_assault_task(simulation_task_29:2:1:nil:false:true:nil) !squad_exist(hostage_companion_task_1)} true, false

title = simulation_task_29_name
descr = simulation_task_29_text
job_descr = simulation_task_29_about
task_complete_descr = simulation_task_29_finish

stage_complete = 1
target_functor = simulation_task_target
status_functor = hostage_task
status_functor_params = bandit
condlist_0 = {!squad_exist(hostage_companion_task_1)} fail
condlist_1 = {!task_giver_alive(simulation_task_29)} fail

on_job_descr = %=setup_assault_task(simulation_task_29)%
on_init = %=setup_companion_task(hostage_companion_task_1_ecolog:nil:simulation_task_29:true:true) +hostage_companion_task_1_started%
on_complete = %=reward_random_money(7000:8000) =reward_random_item(stimpack:medkit:morphine:drug_booster:tetanus) =reward_stash(true) =complete_task_inc_goodwill(50:ecolog) =remove_special_task_squad(hostage_companion_task_1) -hostage_companion_task_1_hostage_rescued -hostage_companion_task_1_started =inc_task_stage(simulation_task_29) =unlock_smart(simulation_task_29) =drx_sl_unregister_hostage_giver(simulation_task_29) =drx_sl_unregister_task_giver(simulation_task_29) =drx_sl_reset_stored_task(simulation_task_29)%
on_fail = %=unlock_smart(simulation_task_29) =fail_task_dec_goodwill(25:ecolog) -hostage_companion_task_1_hostage_rescued -hostage_companion_task_1_started =drx_sl_unregister_hostage_giver(simulation_task_29) =drx_sl_unregister_task_giver(simulation_task_29) =drx_sl_reset_stored_task(simulation_task_29)%


;------------------------------------------------
;-- Bounty
;------------------------------------------------
[simulation_task_30]

icon = ui_inGame2_Odin_vistrel
storyline = false
prior = 45
sim_communities = stalker
repeat_timeout = 21600
;precondition = true

title = simulation_task_30_name
descr = simulation_task_30_text
job_descr = simulation_task_30_about
task_complete_descr = simulation_task_30_finish

stage_complete = 1
target_functor = general_bounty_task
status_functor = bounty_task
condlist_0 = {!task_giver_alive(simulation_task_30)} fail

on_job_descr = %=setup_bounty_task(simulation_task_30:true:false:stalker)%
on_complete = %=reward_random_money(8500:9500) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =reward_stash(true) =complete_task_inc_goodwill(50:stalker) =inc_task_stage(simulation_task_30) =drx_sl_unregister_task_giver(simulation_task_30) =drx_sl_reset_stored_task(simulation_task_30)%
on_fail = %=fail_task_dec_goodwill(25:stalker) =drx_sl_unregister_task_giver(simulation_task_30) =drx_sl_reset_stored_task(simulation_task_30)%


;------------------------------------------------
[simulation_task_31]

icon = ui_inGame2_Odin_vistrel
storyline = false
prior = 45
sim_communities = stalker
repeat_timeout = 21600
;precondition = true

title = simulation_task_31_name
descr = simulation_task_31_text
job_descr = simulation_task_31_about
task_complete_descr = simulation_task_31_finish

stage_complete = 1
target_functor = general_bounty_task
status_functor = bounty_task
condlist_0 = {!task_giver_alive(simulation_task_31)} fail

on_job_descr = %=setup_bounty_task(simulation_task_31:false:true:bandit)%
on_complete = %=reward_random_money(7000:8000) =reward_item(vodka2) =reward_random_item(tushonka:protein:beans:chili:nuts:mre:ration_ru:ration_ukr) =reward_stash(true) =complete_task_inc_goodwill(50:stalker) =inc_task_stage(simulation_task_31) =drx_sl_unregister_task_giver(simulation_task_31) =drx_sl_reset_stored_task(simulation_task_31)%
on_fail = %=fail_task_dec_goodwill(25:stalker) =drx_sl_unregister_task_giver(simulation_task_31) =drx_sl_reset_stored_task(simulation_task_31)%


;------------------------------------------------
[simulation_task_32]

icon = ui_inGame2_Odin_vistrel
storyline = false
prior = 45
sim_communities = army
repeat_timeout = 21600
;precondition = true

title = simulation_task_32_name
descr = simulation_task_32_text
job_descr = simulation_task_32_about
task_complete_descr = simulation_task_32_finish

stage_complete = 1
target_functor = general_bounty_task
status_functor = bounty_task
condlist_0 = {!task_giver_alive(simulation_task_32)} fail

on_job_descr = %=setup_bounty_task(simulation_task_32:true:false:army)%
on_complete = %=reward_random_money(8000:9000) =reward_random_item(grenade_rgd5:grenade_f1:ammo_m209:mine_new:ied_rpg_new:ied_new) =reward_random_item(grenade_rgd5:grenade_f1:ammo_m209:mine_new:ied_rpg_new:ied_new) =reward_stash(true) =complete_task_inc_goodwill(50:army) =inc_task_stage(simulation_task_32) =drx_sl_unregister_task_giver(simulation_task_32) =drx_sl_reset_stored_task(simulation_task_32)%
on_fail = %=fail_task_dec_goodwill(25:army) =drx_sl_unregister_task_giver(simulation_task_32) =drx_sl_reset_stored_task(simulation_task_32)%


;------------------------------------------------
[simulation_task_33]

icon = ui_inGame2_Odin_vistrel
storyline = false
prior = 45
sim_communities = killer
repeat_timeout = 21600
;precondition = true

title = simulation_task_33_name
descr = simulation_task_33_text
job_descr = simulation_task_33_about
task_complete_descr = simulation_task_33_finish

stage_complete = 1
target_functor = general_bounty_task
status_functor = bounty_task
condlist_0 = {!task_giver_alive(simulation_task_33)} fail

on_job_descr = %=setup_bounty_task(simulation_task_33:false:false:stalker:army:dolg)%
on_complete = %=reward_random_money(7500:8500) =reward_random_item(tushonka:protein:beans:chili:nuts:mre:ration_ru:ration_ukr) =reward_random_item(grenade_rgd5:grenade_f1:ammo_m209:mine_new:ied_rpg_new:ied_new) =complete_task_inc_goodwill(50:killer) =inc_task_stage(simulation_task_33) =drx_sl_unregister_task_giver(simulation_task_33) =drx_sl_reset_stored_task(simulation_task_33)%
on_fail = %=fail_task_dec_goodwill(25:killer) =drx_sl_unregister_task_giver(simulation_task_33) =drx_sl_reset_stored_task(simulation_task_33)%


;------------------------------------------------
[simulation_task_34]

icon = ui_inGame2_Odin_vistrel
storyline = false
prior = 45
sim_communities = monolith
repeat_timeout = 21600
;precondition = true

title = simulation_task_34_name
descr = simulation_task_34_text
job_descr = simulation_task_34_about
task_complete_descr = simulation_task_34_finish

stage_complete = 1
target_functor = general_bounty_task
status_functor = bounty_task
condlist_0 = {!task_giver_alive(simulation_task_34)} fail

on_job_descr = %=setup_bounty_task(simulation_task_34:true:false:monolith)%
on_complete = %=reward_random_money(5500:6500) =reward_stash(true) =reward_random_item(stimpack:medkit:morphine:drug_booster:tetanus) =reward_random_item(stimpack:medkit:morphine:drug_booster:tetanus) =complete_task_inc_goodwill(50:monolith) =inc_task_stage(simulation_task_34) =drx_sl_unregister_task_giver(simulation_task_34) =drx_sl_reset_stored_task(simulation_task_34)%
on_fail = %=fail_task_dec_goodwill(25:monolith) =drx_sl_unregister_task_giver(simulation_task_34) =drx_sl_reset_stored_task(simulation_task_34)%


;------------------------------------------------
[simulation_task_35]

icon = ui_inGame2_Odin_vistrel
storyline = false
prior = 45
sim_communities = bandit
repeat_timeout = 21600
;precondition = true

title = simulation_task_35_name
descr = simulation_task_35_text
job_descr = simulation_task_35_about
task_complete_descr = simulation_task_35_finish

stage_complete = 1
target_functor = general_bounty_task
status_functor = bounty_task
condlist_0 = {!task_giver_alive(simulation_task_35)} fail

on_job_descr = %=setup_bounty_task(simulation_task_35:false:false:stalker:army:dolg)%
on_complete = %=reward_random_money(5500:6500) =reward_stash(true) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =complete_task_inc_goodwill(50:bandit) =inc_task_stage(simulation_task_35) =drx_sl_unregister_task_giver(simulation_task_35) =drx_sl_reset_stored_task(simulation_task_35)%
on_fail = %=fail_task_dec_goodwill(25:bandit) =drx_sl_unregister_task_giver(simulation_task_35) =drx_sl_reset_stored_task(simulation_task_35)%


;------------------------------------------------
;-- Assault
;------------------------------------------------
[simulation_task_36]

icon = ui_inGame2_Issledovanie_anomaliy
storyline = false
prior = 85
sim_communities = monolith
repeat_timeout = 21600
precondition = {=validate_assault_task(simulation_task_36:1:1:nil:false:false:nil)} true, false

title = simulation_task_36_name
descr = simulation_task_36_text
job_descr = simulation_task_36_about
task_complete_descr = simulation_task_36_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = monolith
condlist_0 = {!task_giver_alive(simulation_task_36)} fail

on_job_descr = %=setup_assault_task(simulation_task_36)%
on_complete = %=reward_random_money(9000:10000) =reward_random_item(stimpack:medkit:morphine:drug_booster:tetanus) =reward_stash(true) =complete_task_inc_goodwill(50:monolith) =inc_task_stage(simulation_task_36) =drx_sl_unregister_task_giver(simulation_task_36) =drx_sl_reset_stored_task(simulation_task_36)%
on_fail = %=fail_task_dec_goodwill(25:monolith) =drx_sl_unregister_task_giver(simulation_task_36) =drx_sl_reset_stored_task(simulation_task_36)%


;------------------------------------------------
[simulation_task_37]

icon = ui_inGame2_Karti_mestnosti
storyline = false
prior = 65
sim_communities = killer
repeat_timeout = 21600
precondition = {=validate_assault_task(simulation_task_37:2:1:nil:false:false:nil)} true, false

title = simulation_task_37_name
descr = simulation_task_37_text
job_descr = simulation_task_37_about
task_complete_descr = simulation_task_37_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = killer
condlist_0 = {!task_giver_alive(simulation_task_37)} fail

on_job_descr = %=setup_assault_task(simulation_task_37)%
on_complete = %=reward_random_money(9000:10000) =complete_task_inc_goodwill(50:killer) =inc_task_stage(simulation_task_37) =drx_sl_unregister_task_giver(simulation_task_37) =drx_sl_reset_stored_task(simulation_task_37)%
on_fail = %=fail_task_dec_goodwill(25:killer) =drx_sl_unregister_task_giver(simulation_task_37) =drx_sl_reset_stored_task(simulation_task_37)%


;------------------------------------------------
[simulation_task_38]

icon = ui_inGame2_Karti_mestnosti
storyline = false
prior = 65
sim_communities = ecolog
repeat_timeout = 21600
precondition = {=validate_assault_task(simulation_task_38:2:1:nil:false:false:nil)} true, false

title = simulation_task_38_name
descr = simulation_task_38_text
job_descr = simulation_task_38_about
task_complete_descr = simulation_task_38_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = ecolog
condlist_0 = {!task_giver_alive(simulation_task_38)} fail

on_job_descr = %=setup_assault_task(simulation_task_38)%
on_complete = %=reward_random_money(10000:12000) =reward_stash(true) =complete_task_inc_goodwill(50:ecolog) =inc_task_stage(simulation_task_38) =drx_sl_unregister_task_giver(simulation_task_38) =drx_sl_reset_stored_task(simulation_task_38)%
on_fail = %=fail_task_dec_goodwill(25:ecolog) =drx_sl_unregister_task_giver(simulation_task_38) =drx_sl_reset_stored_task(simulation_task_38)%


;------------------------------------------------
[simulation_task_39]

icon = ui_inGame2_Issledovanie_anomaliy
storyline = false
prior = 85
sim_communities = freedom
repeat_timeout = 21600
precondition = {=validate_assault_task(simulation_task_39:1:1:nil:false:true:nil)} true, false

title = simulation_task_39_name
descr = simulation_task_39_text
job_descr = simulation_task_39_about
task_complete_descr = simulation_task_39_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = monolith
condlist_0 = {!task_giver_alive(simulation_task_39)} fail

on_job_descr = %=setup_assault_task(simulation_task_39)%
on_complete = %=reward_random_money(10000:12500) =reward_random_item(charcoal:kerosene__3:batteries_dead:gun_oil:gun_oil_ru_d:sharpening_stones:glue_b:glue_a) =reward_stash(true) =complete_task_inc_goodwill(50:freedom) =inc_task_stage(simulation_task_39) =drx_sl_unregister_task_giver(simulation_task_39) =drx_sl_reset_stored_task(simulation_task_39)%
on_fail = %=fail_task_dec_goodwill(25:freedom) =drx_sl_unregister_task_giver(simulation_task_39) =drx_sl_reset_stored_task(simulation_task_39)%


;------------------------------------------------
[simulation_task_40]

icon = ui_inGame2_Karti_mestnosti
storyline = false
prior = 65
sim_communities = dolg
repeat_timeout = 21600
precondition = {=validate_assault_task(simulation_task_40:2:1:nil:false:true:nil)} true, false

title = simulation_task_40_name
descr = simulation_task_40_text
job_descr = simulation_task_40_about
task_complete_descr = simulation_task_40_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = bandit
condlist_0 = {!task_giver_alive(simulation_task_40)} fail

on_job_descr = %=setup_assault_task(simulation_task_40)%
on_complete = %=reward_random_money(6500:7000) =reward_random_item(stimpack:medkit:morphine:drug_booster:tetanus) =reward_random_item(tushonka:protein:beans:chili:nuts:mre:ration_ru:ration_ukr) =reward_random_item(grenade_rgd5:grenade_f1:ammo_m209:mine_new:ied_rpg_new:ied_new) =reward_stash(true) =complete_task_inc_goodwill(50:dolg) =inc_task_stage(simulation_task_40) =drx_sl_unregister_task_giver(simulation_task_40) =drx_sl_reset_stored_task(simulation_task_40)%
on_fail = %=fail_task_dec_goodwill(25:dolg) =drx_sl_unregister_task_giver(simulation_task_40) =drx_sl_reset_stored_task(simulation_task_40)%


;------------------------------------------------
;-- Assault Mutants
;------------------------------------------------
[simulation_task_41]

icon = ui_inGame2_Nochnaya_ohota
storyline = false
prior = 55
sim_communities = dolg
repeat_timeout = 21600
precondition = {=validate_assault_task(simulation_task_41:1:1:nil:false:true:nil)} true, false

title = simulation_task_41_name
descr = simulation_task_41_text
job_descr = simulation_task_41_about
task_complete_descr = simulation_task_41_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = monster, monster_predatory_day, monster_predatory_night, monster_vegetarian, monster_zombied_day, monster_zombied_night, monster_special
condlist_0 = {!task_giver_alive(simulation_task_41)} fail

on_job_descr = %=setup_assault_task(simulation_task_41)%
on_complete = %=reward_random_money(7000:8000) =reward_random_item(tushonka:protein:beans:chili:nuts:mre:ration_ru:ration_ukr) =reward_stash(true) =complete_task_inc_goodwill(50:dolg) =inc_task_stage(simulation_task_41) =drx_sl_unregister_task_giver(simulation_task_41) =drx_sl_reset_stored_task(simulation_task_41)%
on_fail = %=fail_task_dec_goodwill(25:dolg) =drx_sl_unregister_task_giver(simulation_task_41) =drx_sl_reset_stored_task(simulation_task_41)%


;------------------------------------------------
[simulation_task_42]
icon = ui_inGame2_Nochnaya_ohota
storyline = false
prior = 55
sim_communities = csky
repeat_timeout = 21600
precondition = {=validate_assault_task(simulation_task_42:1:1:nil:false:true:nil)} true, false

title = simulation_task_42_name
descr = simulation_task_42_text
job_descr = simulation_task_42_about
task_complete_descr = simulation_task_42_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = monster, monster_predatory_day, monster_predatory_night, monster_vegetarian, monster_zombied_day, monster_zombied_night, monster_special
condlist_0 = {!task_giver_alive(simulation_task_42)} fail

on_job_descr = %=setup_assault_task(simulation_task_42)%
on_complete = %=reward_random_money(5500:6000) =reward_random_item(charcoal:kerosene__3:batteries_dead:gun_oil:gun_oil_ru_d:sharpening_stones:glue_b:glue_a) =reward_stash(true) =complete_task_inc_goodwill(50:csky) =inc_task_stage(simulation_task_42) =drx_sl_unregister_task_giver(simulation_task_42) =drx_sl_reset_stored_task(simulation_task_42)%
on_fail = %=fail_task_dec_goodwill(25:csky) =drx_sl_unregister_task_giver(simulation_task_42) =drx_sl_reset_stored_task(simulation_task_42)%


;------------------------------------------------
[simulation_task_43]
icon = ui_inGame2_Nochnaya_ohota
storyline = false
prior = 55
sim_communities = monolith
repeat_timeout = 21600
precondition = {=validate_assault_task(simulation_task_43:1:1:nil:false:true:nil)} true, false

title = simulation_task_43_name
descr = simulation_task_43_text
job_descr = simulation_task_43_about
task_complete_descr = simulation_task_43_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = monster, monster_predatory_day, monster_predatory_night, monster_vegetarian, monster_zombied_day, monster_zombied_night, monster_special
condlist_0 = {!task_giver_alive(simulation_task_43)} fail

on_job_descr = %=setup_assault_task(simulation_task_43)%
on_complete = %=reward_random_money(5500:6000) =reward_stash(true) =complete_task_inc_goodwill(50:monolith) =inc_task_stage(simulation_task_43) =drx_sl_unregister_task_giver(simulation_task_43) =drx_sl_reset_stored_task(simulation_task_43)%
on_fail = %=fail_task_dec_goodwill(25:monolith) =drx_sl_unregister_task_giver(simulation_task_43) =drx_sl_reset_stored_task(simulation_task_43)%


;------------------------------------------------
;-- Search the Stash
;------------------------------------------------
[simulation_task_44]

icon = ui_inGame2_PD_Torgovets_informatsiey
storyline = false
prior = 39
sim_communities = stalker
repeat_timeout = 21600
precondition = {-drx_sl_quest_item_task_3_started} true, false

title = simulation_task_44_name
descr = simulation_task_44_text
job_descr = simulation_task_44_about
task_complete_descr = simulation_task_44_finish

stage_complete = 1
target_functor = drx_sl_quest_item_task_target
status_functor = drx_sl_quest_item_task_status
condlist_0 = {!task_giver_alive(simulation_task_44)} fail

on_job_descr = %=drx_sl_create_quest_stash(simulation_task_44:3)%
on_complete = %=reward_random_money_by_dist(simulation_task_44:3000:3500:0.3) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =reward_stash(true) =complete_task_inc_goodwill(50:stalker) =remove_item(drx_sl_quest_item_3) =inc_task_stage(simulation_task_44) -drx_sl_quest_item_task_3_started =drx_sl_unregister_task_giver(simulation_task_44) =drx_sl_reset_stored_task(simulation_task_44)%
on_fail = %=fail_task_dec_goodwill(25:stalker) -drx_sl_quest_item_task_3_started =drx_sl_unregister_task_giver(simulation_task_44) =drx_sl_reset_stored_task(simulation_task_44)%


;------------------------------------------------
[simulation_task_45]

icon = ui_inGame2_Osobiy_zakaz
storyline = false
prior = 39
sim_communities = freedom
repeat_timeout = 21600
precondition = {-drx_sl_quest_item_task_2_started} true, false

title = simulation_task_45_name
descr = simulation_task_45_text
job_descr = simulation_task_45_about
task_complete_descr = simulation_task_45_finish

stage_complete = 1
target_functor = drx_sl_quest_item_task_target
status_functor = drx_sl_quest_item_task_status
condlist_0 = {!task_giver_alive(simulation_task_45)} fail

on_job_descr = %=drx_sl_create_quest_stash(simulation_task_45:2)%
on_complete = %=reward_random_money_by_dist(simulation_task_45:4000:4500:0.4) =reward_random_item(stimpack:medkit:morphine:drug_booster:tetanus) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =reward_stash(true) =complete_task_inc_goodwill(50:freedom) =remove_item(drx_sl_quest_item_2) =inc_task_stage(simulation_task_45) -drx_sl_quest_item_task_2_started =drx_sl_unregister_task_giver(simulation_task_45) =drx_sl_reset_stored_task(simulation_task_45)%
on_fail = %=fail_task_dec_goodwill(25:freedom) -drx_sl_quest_item_task_2_started =drx_sl_unregister_task_giver(simulation_task_45) =drx_sl_reset_stored_task(simulation_task_45)%


;------------------------------------------------
[simulation_task_46]

icon = ui_inGame2_Poslednie_razrabotki
storyline = false
prior = 39
sim_communities = csky
repeat_timeout = 21600
precondition = {-drx_sl_quest_item_task_1_started} true, false

title = simulation_task_46_name
descr = simulation_task_46_text
job_descr = simulation_task_46_about
task_complete_descr = simulation_task_46_finish

stage_complete = 1
target_functor = drx_sl_quest_item_task_target
status_functor = drx_sl_quest_item_task_status
condlist_0 = {!task_giver_alive(simulation_task_46)} fail

on_job_descr = %=drx_sl_create_quest_stash(simulation_task_46:1)%
on_complete = %=reward_random_money_by_dist(simulation_task_46:3000:3500:0.4) =reward_stash(true) =reward_random_item(tushonka:protein:beans:chili:nuts:mre:ration_ru:ration_ukr) =complete_task_inc_goodwill(50:csky) =remove_item(drx_sl_quest_item_1) =inc_task_stage(simulation_task_46) -drx_sl_quest_item_task_1_started =drx_sl_unregister_task_giver(simulation_task_46) =drx_sl_reset_stored_task(simulation_task_46)%
on_fail = %=fail_task_dec_goodwill(25:csky) -drx_sl_quest_item_task_1_started =drx_sl_unregister_task_giver(simulation_task_46) =drx_sl_reset_stored_task(simulation_task_46)%


;------------------------------------------------
;-- Delivery Service
;------------------------------------------------
[simulation_task_47]
icon = ui_inGame2_Osobiy_zakaz
storyline = false
prior = 120
sim_communities = army, dolg, freedom, killer, isg
repeat_timeout = 14400
;precondition = true

title = simulation_task_47_name
descr = simulation_task_47_text
descr_functor = general_delivery_desc
job_descr = simulation_task_47_about
task_complete_descr = simulation_task_47_finish

stage_complete = 2
target_functor = general_delivery
status_functor = delivery_task

on_job_descr = %=on_init_delivery_task(simulation_task_47:false:true:quest_package_1:quest_package_2:quest_package_3)%
on_complete = %=remove_delivery_item(simulation_task_47) =inc_goodwill_by_tasker_comm(simulation_task_47:50) =reward_random_money_by_dist(simulation_task_47:2500:3500:0.2) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) -simulation_task_47_quest_item_received =pstor_reset(simulation_task_47)%
on_fail = %-simulation_task_47_quest_item_received =decrease_rep(50) =dec_goodwill_by_tasker_id(simulation_task_47:25) =pstor_reset(simulation_task_47)%
on_cancel = %=remove_delivery_item(simulation_task_47)%

;-------------------------------------------
[simulation_task_48]
icon = ui_inGame2_Osobiy_zakaz
storyline = false
prior = 120
sim_communities = csky, ecolog, stalker
repeat_timeout = 14400
;precondition = true

title = simulation_task_48_name
descr = simulation_task_48_text
descr_functor = general_delivery_desc
job_descr = simulation_task_48_about
task_complete_descr = simulation_task_48_finish

stage_complete = 2
target_functor = general_delivery
status_functor = delivery_task

on_job_descr = %=on_init_delivery_task(simulation_task_48:false:true:quest_package_4:quest_package_5)%
on_complete = %=remove_delivery_item(simulation_task_48) =inc_goodwill_by_tasker_comm(simulation_task_48:50) =reward_random_money_by_dist(simulation_task_48:2000:3500:0.2) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) -simulation_task_48_quest_item_received =pstor_reset(simulation_task_48)%
on_fail = %-simulation_task_48_quest_item_received =decrease_rep(50) =dec_goodwill_by_tasker_id(simulation_task_48:25) =pstor_reset(simulation_task_48)%
on_cancel = %=remove_delivery_item(simulation_task_48)%

;-------------------------------------------
[simulation_task_49]
icon = ui_inGame2_Osobiy_zakaz
storyline = false
prior = 120
sim_communities = bandit, stalker, renegade
repeat_timeout = 15800
;precondition = true

title = simulation_task_49_name
descr = simulation_task_49_text
descr_functor = general_delivery_desc
job_descr = simulation_task_49_about
task_complete_descr = simulation_task_49_finish

stage_complete = 2
target_functor = general_delivery
status_functor = delivery_task

on_job_descr = %=on_init_delivery_task(simulation_task_49:false:true:quest_package_6:quest_package_7:quest_package_8)%
on_complete = %=remove_delivery_item(simulation_task_49) =inc_goodwill_by_tasker_comm(simulation_task_49:50) =reward_random_money_by_dist(simulation_task_49:1500:3500:0.2) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) -simulation_task_49_quest_item_received =pstor_reset(simulation_task_49)%
on_fail = %-simulation_task_49_quest_item_received =decrease_rep(50) =dec_goodwill_by_tasker_id(simulation_task_49:25) =pstor_reset(simulation_task_49)%
on_cancel = %=remove_delivery_item(simulation_task_49)%

;------------------------------------------------
;-- Anomalous Measurements for Clear Sky
;------------------------------------------------
[simulation_task_50]
icon = ui_inGame2_PD_Opitniy_stalker
storyline = false
prior = 120
sim_communities = csky
repeat_timeout = 14400
precondition = {=validate_measure_task(simulation_task_50:4:true:detector_anomaly:chemical:acidic:electric:thermal:gravitational)} true, false

title = simulation_task_50_name
descr = simulation_task_50_text
descr_functor = general_measure_desc
job_descr = simulation_task_50_about
task_complete_descr = simulation_task_50_finish

stage_complete = 3
target_functor = general_measure
status_functor = measure_task
task_measure_mutants = simulation_lurker,simulation_bloodsucker_1_2,simulation_psysucker,simulation_psy_dog,simulation_snork_2_3,simulation_fracture,simulation_cat,simulation_mix_dogs,simulation_pseudodog
condlist_0 = {!task_giver_alive(simulation_task_50)} fail

on_job_descr = %=setup_measure_task(simulation_task_50)%
on_complete = %=inc_goodwill_by_tasker_comm(simulation_task_50:50) =reward_random_money_by_dist(simulation_task_50:3500:4500:0.2) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =remove_quest_item(simulation_task_50) -simulation_task_50_quest_item_received -simulation_task_50_measurment_finished -simulation_task_50_measurment_enemy =pstor_reset(simulation_task_50)%
on_fail 	= %-simulation_task_50_quest_item_received -simulation_task_50_measurment_finished -simulation_task_50_measurment_enemy =pstor_reset(simulation_task_50)%

;------------------------------------------------
;-- Anomalous Measurements for Ecologists
;------------------------------------------------
[simulation_task_51]
icon = ui_inGame2_PD_Opitniy_stalker
storyline = false
prior = 120
sim_communities = ecolog
repeat_timeout = 14400
precondition = {=validate_measure_task(simulation_task_51:4:true:detector_anomaly:chemical:acidic:electric:thermal:gravitational)} true, false

title = simulation_task_51_name
descr = simulation_task_51_text
descr_functor = general_measure_desc
job_descr = simulation_task_51_about
task_complete_descr = simulation_task_51_finish

stage_complete = 3
target_functor = general_measure
status_functor = measure_task
task_measure_mutants = simulation_lurker,simulation_bloodsucker_1_2,simulation_psysucker,simulation_psy_dog,simulation_snork_2_3,simulation_fracture,simulation_cat,simulation_mix_dogs,simulation_pseudodog
condlist_0 = {!task_giver_alive(simulation_task_51)} fail

on_job_descr = %=setup_measure_task(simulation_task_51)%
on_complete = %=inc_goodwill_by_tasker_comm(simulation_task_51:50) =reward_random_money_by_dist(simulation_task_51:3500:4500:0.2) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =remove_quest_item(simulation_task_51) -simulation_task_51_quest_item_received -simulation_task_51_measurment_finished -simulation_task_51_measurment_enemy =pstor_reset(simulation_task_51)%
on_fail 	= %-simulation_task_51_quest_item_received -simulation_task_51_measurment_finished -simulation_task_51_measurment_enemy =pstor_reset(simulation_task_51)%


;------------------------------------------------
;-- Find the Missing Squad
;------------------------------------------------
[simulation_task_52]
icon = ui_inGame2_PD_Torgovets_informatsiey
storyline = false
prior = 120
sim_communities = army, bandit, csky, dolg, ecolog, freedom, killer, stalker, isg
repeat_timeout = 14400
;precondition = true

title = simulation_task_52_name
title_functor = general_fate_name
descr = simulation_task_52_text
descr_functor = general_fate_desc
job_descr = simulation_task_52_about
task_complete_descr = simulation_task_52_finish

stage_complete 	= 4
target_functor 	= general_fate
status_functor 	= fate_task
condlist_0 		= {!task_giver_alive(simulation_task_52)} fail

on_job_descr = %=on_init_fate_task(simulation_task_52:detector_radio:broken_pda:k01_darkscape:k02_trucks_cemetery:y04_pole:l06_rostok:zaton:jupiter:pripyat)%
on_complete = %=inc_goodwill_by_tasker_comm(simulation_task_52:50) =reward_stash(true) =reward_random_money(10500:18500) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) -simulation_task_52_dead_spawned -simulation_task_52_item_spawned -simulation_task_52_target_found =remove_quest_item(simulation_task_52) =forget_dead_npcs(simulation_task_52) =pstor_reset(simulation_task_52)%
on_fail 	= %=remove_quest_item(simulation_task_52) -simulation_task_52_dead_spawned -simulation_task_52_target_found -simulation_task_52_item_spawned =forget_dead_npcs(simulation_task_52) =pstor_reset(simulation_task_52)%

;------------------------------------------------
;-- Find supplies for renegade
;------------------------------------------------
[simulation_task_53]

icon = ui_inGame2_D_Sisshik
storyline = false
prior = 20
sim_communities = renegade
repeat_timeout = 21600
;precondition = true

title = simulation_task_53_name
title_functor = general_fetch_task
descr = simulation_task_53_text
descr_functor = general_fetch_task
job_descr = simulation_task_53_about
fetch_descr = simulation_task_53_fetch_about
task_complete_descr = simulation_task_53_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_53)} fail

fetch_func = %=setup_fetch_task(simulation_task_53_fetch:supplies:1:4)%
on_complete = %=fetch_reward_and_remove(simulation_task_53_fetch:0.9) =reward_stash(true) =complete_task_inc_goodwill(50:renegade) =inc_task_stage(simulation_task_53) =pstor_reset(simulation_task_53_fetch) =drx_sl_unregister_task_giver(simulation_task_53) =drx_sl_reset_stored_task(simulation_task_53)%
on_fail = %=fail_task_dec_goodwill(25:renegade) =pstor_reset(simulation_task_53_fetch) =drx_sl_unregister_task_giver(simulation_task_53) =drx_sl_reset_stored_task(simulation_task_53)%

;------------------------------------------------
;-- Find weapon for renegade
;------------------------------------------------
[simulation_task_54]

icon = ui_inGame2_Neizvestnoe_oruzhie
storyline = false
prior = 28
sim_communities = renegade
repeat_timeout = 21600
;precondition = true

title = simulation_task_54_name
title_functor = general_fetch_task
descr = simulation_task_54_text
descr_functor = general_fetch_task
job_descr = simulation_task_54_about
fetch_descr = simulation_task_54_fetch_about
task_complete_descr = simulation_task_54_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_54)} fail

fetch_func = %=setup_fetch_task(simulation_task_54_fetch:weapons:1:1)%
on_complete = %=fetch_reward_and_remove(simulation_task_54_fetch:0.7) =reward_stash(true) =complete_task_inc_goodwill(50:renegade) =inc_task_stage(simulation_task_54) =pstor_reset(simulation_task_54_fetch) =drx_sl_unregister_task_giver(simulation_task_54) =drx_sl_reset_stored_task(simulation_task_54)%
on_fail = %=fail_task_dec_goodwill(25:renegade) =pstor_reset(simulation_task_54_fetch) =drx_sl_unregister_task_giver(simulation_task_54) =drx_sl_reset_stored_task(simulation_task_54)%

;------------------------------------------------
;-- Find mutant meat for renegade
;------------------------------------------------
[simulation_task_55]

icon = ui_inGame2_Pripasi
storyline = false
prior = 30
sim_communities = renegade
repeat_timeout = 21600
;precondition = true

title = simulation_task_55_name
title_functor = general_fetch_task
descr = simulation_task_55_text
descr_functor = general_fetch_task
job_descr = simulation_task_55_about
fetch_descr = simulation_task_55_fetch_about
task_complete_descr = simulation_task_55_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_55)} fail

fetch_func = %=setup_fetch_task(simulation_task_55_fetch:mutant_meat:4:6)%
on_complete = %=fetch_reward_and_remove(simulation_task_55_fetch:1.4) =reward_stash(true) =complete_task_inc_goodwill(50:renegade) =inc_task_stage(simulation_task_55) =pstor_reset(simulation_task_55_fetch) =drx_sl_unregister_task_giver(simulation_task_55) =drx_sl_reset_stored_task(simulation_task_55)%
on_fail = %=fail_task_dec_goodwill(25:renegade) =pstor_reset(simulation_task_55_fetch) =drx_sl_unregister_task_giver(simulation_task_55) =drx_sl_reset_stored_task(simulation_task_55)%

;------------------------------------------------
;-- Subcontractor for Renegade Simulation Task 
;------------------------------------------------
[simulation_task_56]

icon = ui_inGame2_Odin_vistrel
storyline = false
prior = 45
sim_communities = renegade
repeat_timeout = 21600
;precondition = true

title = simulation_task_56_name
descr = simulation_task_56_text
job_descr = simulation_task_56_about
task_complete_descr = simulation_task_56_finish

stage_complete = 1
target_functor = general_bounty_task
status_functor = bounty_task
condlist_0 = {!task_giver_alive(simulation_task_56)} fail

on_job_descr = %=setup_bounty_task(simulation_task_56:false:false:stalker:army:dolg)%
on_complete = %=reward_random_money(5500:6500) =reward_stash(true) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =complete_task_inc_goodwill(50:renegade) =inc_task_stage(simulation_task_56) =drx_sl_unregister_task_giver(simulation_task_56) =drx_sl_reset_stored_task(simulation_task_56)%
on_fail = %=fail_task_dec_goodwill(25:renegade) =drx_sl_unregister_task_giver(simulation_task_56) =drx_sl_reset_stored_task(simulation_task_56)%


;------------------------------------------------
;-- Find supplies for ISG
;------------------------------------------------
[simulation_task_57]

icon = ui_inGame2_D_Sisshik
storyline = false
prior = 20
sim_communities = isg
repeat_timeout = 21600
;precondition = true

title = simulation_task_57_name
title_functor = general_fetch_task
descr = simulation_task_57_text
descr_functor = general_fetch_task
job_descr = simulation_task_57_about
fetch_descr = simulation_task_57_fetch_about
task_complete_descr = simulation_task_57_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_57)} fail

fetch_func = %=setup_fetch_task(simulation_task_57_fetch:supplies:1:4)%
on_complete = %=fetch_reward_and_remove(simulation_task_57_fetch:0.8) =complete_task_inc_goodwill(50:isg) =inc_task_stage(simulation_task_57) =pstor_reset(simulation_task_57_fetch) =drx_sl_unregister_task_giver(simulation_task_57) =drx_sl_reset_stored_task(simulation_task_57)%
on_fail = %=fail_task_dec_goodwill(25:isg) =pstor_reset(simulation_task_57_fetch) =drx_sl_unregister_task_giver(simulation_task_57) =drx_sl_reset_stored_task(simulation_task_57)%

;------------------------------------------------
;-- Find weapon for ISG
;------------------------------------------------
[simulation_task_58]

icon = ui_inGame2_Neizvestnoe_oruzhie
storyline = false
prior = 28
sim_communities = isg
repeat_timeout = 21600
;precondition = true

title = simulation_task_58_name
title_functor = general_fetch_task
descr = simulation_task_58_text
descr_functor = general_fetch_task
job_descr = simulation_task_58_about
fetch_descr = simulation_task_58_fetch_about
task_complete_descr = simulation_task_58_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_58)} fail

fetch_func = %=setup_fetch_task(simulation_task_58_fetch:weapons:1:1)%
on_complete = %=fetch_reward_and_remove(simulation_task_58_fetch:0.8) =complete_task_inc_goodwill(50:isg) =inc_task_stage(simulation_task_58) =pstor_reset(simulation_task_58_fetch) =drx_sl_unregister_task_giver(simulation_task_58) =drx_sl_reset_stored_task(simulation_task_58)%
on_fail = %=fail_task_dec_goodwill(25:isg) =pstor_reset(simulation_task_58_fetch) =drx_sl_unregister_task_giver(simulation_task_58) =drx_sl_reset_stored_task(simulation_task_58)%

;------------------------------------------------
;-- Assault intruders task for ISG
;------------------------------------------------
[simulation_task_59]

icon = ui_inGame2_Karti_mestnosti
storyline = false
prior = 65
sim_communities = isg
repeat_timeout = 21600
precondition = {=validate_assault_task(simulation_task_59:2:1:nil:false:false:nil)} true, false

title = simulation_task_59_name
descr = simulation_task_59_text
job_descr = simulation_task_59_about
task_complete_descr = simulation_task_59_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = isg
condlist_0 = {!task_giver_alive(simulation_task_59)} fail

on_job_descr = %=setup_assault_task(simulation_task_59)%
on_complete = %=reward_random_money(9000:10000) =complete_task_inc_goodwill(50:isg) =inc_task_stage(simulation_task_59) =drx_sl_unregister_task_giver(simulation_task_59) =drx_sl_reset_stored_task(simulation_task_59)%
on_fail = %=fail_task_dec_goodwill(25:isg) =drx_sl_unregister_task_giver(simulation_task_59) =drx_sl_reset_stored_task(simulation_task_59)%


;------------------------------------------------
;-- Fetch artefact for ISG
;------------------------------------------------
[simulation_task_60]

icon = ui_inGame2_Kontrakt_s_uchenimi
storyline = false
prior = 25
sim_communities = isg
repeat_timeout = 21600
;precondition = true

title = simulation_task_60_name
title_functor = general_fetch_task
descr = simulation_task_60_text
descr_functor = general_fetch_task
job_descr = simulation_task_60_about
fetch_descr = simulation_task_60_fetch_about
task_complete_descr = simulation_task_60_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(simulation_task_60)} fail

fetch_func = %=setup_fetch_task(simulation_task_60_fetch:artefacts:1:1)%
on_complete = %=fetch_reward_and_remove(simulation_task_60_fetch:1.0) =reward_stash(true) =complete_task_inc_goodwill(50:isg) =inc_task_stage(simulation_task_60) =pstor_reset(simulation_task_60_fetch) =drx_sl_unregister_task_giver(simulation_task_60) =drx_sl_reset_stored_task(simulation_task_60)%
on_fail = %=fail_task_dec_goodwill(25:isg) =pstor_reset(simulation_task_60_fetch) =drx_sl_unregister_task_giver(simulation_task_60) =drx_sl_reset_stored_task(simulation_task_60)%

;------------------------------------------------
;-- Anomalous Measurements for ISG
;------------------------------------------------
[simulation_task_61]
icon = ui_inGame2_PD_Opitniy_stalker
storyline = false
prior = 120
sim_communities = isg
repeat_timeout = 14400
precondition = {=validate_measure_task(simulation_task_61:4:true:detector_anomaly:chemical:acidic:electric:thermal:gravitational)} true, false

title = simulation_task_61_name
descr = simulation_task_61_text
descr_functor = general_measure_desc
job_descr = simulation_task_61_about
task_complete_descr = simulation_task_61_finish

stage_complete = 3
target_functor = general_measure
status_functor = measure_task
task_measure_mutants = simulation_lurker,simulation_bloodsucker_1_2,simulation_psysucker,simulation_psy_dog,simulation_snork_2_3,simulation_fracture,simulation_cat,simulation_mix_dogs,simulation_pseudodog
condlist_0 = {!task_giver_alive(simulation_task_61)} fail

on_job_descr = %=setup_measure_task(simulation_task_61)%
on_complete = %=inc_goodwill_by_tasker_comm(simulation_task_61:50) =reward_random_money_by_dist(simulation_task_61:3500:4500:0.2) =reward_random_item(beer:vodka:vodka2:cigarettes_lucky:cigarettes_russian) =remove_quest_item(simulation_task_61) -simulation_task_61_quest_item_received -simulation_task_61_measurment_finished -simulation_task_61_measurment_enemy =pstor_reset(simulation_task_61)%
on_fail 	= %-simulation_task_61_quest_item_received -simulation_task_61_measurment_finished -simulation_task_61_measurment_enemy =pstor_reset(simulation_task_61)%


;------------------------------------------------
;-- Fetch Patches for Sin
;------------------------------------------------
[simulation_task_62]
icon = ui_iconsTotal_find_item
prior = 90
repeat_timeout = 14400
storyline = false
sim_communities = greh
title = simulation_task_62_name
title_functor = general_fetch_task
descr = simulation_task_62_text
descr_functor = general_fetch_task
job_descr = simulation_task_62_about
fetch_descr = simulation_task_62_fetch_about
fetch_func = %=setup_fetch_task(simulation_task_62_fetch:patch_mlr_greh:5:15)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = simulation_task_62_fetch_finish
;precondition = true
on_complete = %=reward_stash(true) =complete_task_inc_goodwill(50:greh) =remove_fetch_item(simulation_task_62_fetch) =inc_task_stage(simulation_task_62) =reward_random_item(af_lighthouse:af_atom:af_cell:af_medusa:af_cristall) =pstor_reset(simulation_task_62_fetch)%
on_fail = %=pstor_reset(simulation_task_62_fetch)%
on_cancel = %=pstor_reset(simulation_task_62_fetch)%
condlist_0 = {!task_giver_alive(simulation_task_62)} fail

;------------------------------------------------
;-- Kill target for Sin
;------------------------------------------------
[simulation_task_63]

icon = ui_inGame2_Odin_vistrel
storyline = false
prior = 45
sim_communities = greh
repeat_timeout = 21600
;precondition = true

title = simulation_task_63_name
descr = simulation_task_63_text
job_descr = simulation_task_63_about
task_complete_descr = simulation_task_63_finish

stage_complete = 1
target_functor = general_bounty_task
status_functor = bounty_task
condlist_0 = {!task_giver_alive(simulation_task_63)} fail

on_job_descr = %=setup_bounty_task(simulation_task_63:true:false:greh)%
on_complete = %=reward_random_money(5500:6500) =reward_stash(true) =reward_random_item(stimpack:medkit:morphine:drug_booster:tetanus) =reward_random_item(stimpack:medkit:morphine:drug_booster:tetanus) =complete_task_inc_goodwill(50:greh) =inc_task_stage(simulation_task_63) =drx_sl_unregister_task_giver(simulation_task_63) =drx_sl_reset_stored_task(simulation_task_63)%
on_fail = %=fail_task_dec_goodwill(25:greh) =drx_sl_unregister_task_giver(simulation_task_63) =drx_sl_reset_stored_task(simulation_task_63)%

;------------------------------------------------
;-- Eliminate Enemy Forces for Sin
;------------------------------------------------
[simulation_task_64]

icon = ui_inGame2_Issledovanie_anomaliy
storyline = false
prior = 85
sim_communities = greh
repeat_timeout = 21600
precondition = {=validate_assault_task(simulation_task_64:1:1:nil:false:false:nil)} true, false

title = simulation_task_64_name
descr = simulation_task_64_text
job_descr = simulation_task_64_about
task_complete_descr = simulation_task_64_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = greh
condlist_0 = {!task_giver_alive(simulation_task_64)} fail

on_job_descr = %=setup_assault_task(simulation_task_64)%
on_complete = %=reward_random_money(9000:10000) =reward_random_item(stimpack:medkit:morphine:drug_booster:tetanus) =reward_stash(true) =complete_task_inc_goodwill(50:greh) =inc_task_stage(simulation_task_64) =drx_sl_unregister_task_giver(simulation_task_64) =drx_sl_reset_stored_task(simulation_task_64)%
on_fail = %=fail_task_dec_goodwill(25:greh) =drx_sl_unregister_task_giver(simulation_task_64) =drx_sl_reset_stored_task(simulation_task_64)%

;------------------------------------------------
;--Eliminate Dangerous Mutants for Sin
;------------------------------------------------
[simulation_task_65]
icon = ui_inGame2_Nochnaya_ohota
storyline = false
prior = 55
sim_communities = greh
repeat_timeout = 21600
precondition = {=validate_assault_task(simulation_task_65:1:1:nil:false:true:nil)} true, false

title = simulation_task_65_name
descr = simulation_task_65_text
job_descr = simulation_task_65_about
task_complete_descr = simulation_task_65_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = monster, monster_predatory_day, monster_predatory_night, monster_vegetarian, monster_zombied_day, monster_zombied_night, monster_special
condlist_0 = {!task_giver_alive(simulation_task_65)} fail

on_job_descr = %=setup_assault_task(simulation_task_65)%
on_complete = %=reward_random_money(5500:6000) =reward_stash(true) =complete_task_inc_goodwill(50:greh) =inc_task_stage(simulation_task_65) =drx_sl_unregister_task_giver(simulation_task_65) =drx_sl_reset_stored_task(simulation_task_65)%
on_fail = %=fail_task_dec_goodwill(25:greh) =drx_sl_unregister_task_giver(simulation_task_65) =drx_sl_reset_stored_task(simulation_task_65)%

;------------------------------------------------
;-- Night-time Mutant Hunting
;------------------------------------------------
[simulation_task_66]

icon = ui_inGame2_Nochnaya_ohota
storyline = false
prior = 55
sim_communities = stalker,bandit
repeat_timeout = 21600
precondition = {=is_dark_night() =validate_assault_task(simulation_task_66:1:1:nil:false:true:nil)} true, false

title = simulation_task_66_name
descr = simulation_task_66_text
job_descr = simulation_task_66_about
task_complete_descr = simulation_task_66_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = monster_predatory_night, monster_zombied_night
condlist_0 = {!task_giver_alive(simulation_task_66)} fail
condlist_1 = {=is_day()} fail

on_job_descr = %=setup_assault_task(simulation_task_66)%
on_init = %=add_speaker_companion(simulation_task_66)%
on_complete = %=reward_random_money(5000:6000) =reward_stash(true) =inc_goodwill_by_tasker_comm(simulation_task_66:50) =inc_task_stage(simulation_task_66) =dismiss_speaker_companion(simulation_task_66) =drx_sl_unregister_task_giver(simulation_task_66) =drx_sl_reset_stored_task(simulation_task_66)%
on_fail = %=dismiss_speaker_companion(simulation_task_66) =drx_sl_unregister_task_giver(simulation_task_66) =drx_sl_reset_stored_task(simulation_task_66)%

;--------------------------------------------------------------------------------------------------
[simulation_task_67]

icon = ui_inGame2_Nochnaya_ohota
storyline = false
prior = 55
sim_communities = dolg,freedom,killer
repeat_timeout = 21600
precondition = {=is_dark_night() =validate_assault_task(simulation_task_67:1:1:nil:false:true:nil)} true, false

title = simulation_task_67_name
descr = simulation_task_67_text
job_descr = simulation_task_67_about
task_complete_descr = simulation_task_67_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = monster_special
condlist_0 = {!task_giver_alive(simulation_task_67)} fail
condlist_1 = {=is_day()} fail

on_job_descr = %=setup_assault_task(simulation_task_67)%
on_init = %=add_speaker_companion(simulation_task_67)%
on_complete = %=reward_random_money(6000:8000) =reward_stash(true) =inc_goodwill_by_tasker_comm(simulation_task_67:50) =inc_task_stage(simulation_task_67) =dismiss_speaker_companion(simulation_task_67) =drx_sl_unregister_task_giver(simulation_task_67) =drx_sl_reset_stored_task(simulation_task_67)%
on_fail = %=dismiss_speaker_companion(simulation_task_67) =drx_sl_unregister_task_giver(simulation_task_67) =drx_sl_reset_stored_task(simulation_task_67)%

;--------------------------------------------------------------------------------------------------
; FACTION BASE DEFENSE VS MUTANTS-
[faction_base_defense]
icon = ui_iconsTotal_defend_lager
prior = 35
storyline = false
title = {-yantar_faction_base_defense_quest_started} faction_base_defense_name, {+yantar_faction_base_defense_quest_started} faction_base_defense_yantar_name
descr = {-yantar_faction_base_defense_quest_started} faction_base_defense_text, {+yantar_faction_base_defense_quest_started} faction_base_defense_yantar_text
target_functor = faction_base_defense_target
condlist_0 = {+faction_base_defense_enemy_killed +faction_base_defense_2nd_enemy_killed} complete
condlist_1 = {+yantar_faction_base_defense_quest_started -faction_base_defense_enemy_killed -faction_base_defense_2nd_enemy_killed !actor_on_level(l08_yantar)} fail
on_init = %+faction_base_defense_active%
on_complete = %-faction_base_defense_active =actor_surge_immuned(false)%
on_fail = %-faction_base_defense_active =actor_surge_immuned(false)%
on_cancel = %-faction_base_defense_active =actor_surge_immuned(false)%
