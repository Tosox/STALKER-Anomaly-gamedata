[logic@bar_dolg_general_animpoint_kamp1]
active = animpoint@bar_dolg_general_animpoint_kamp1
suitable = {=npc_community(dolg) !surge_started} true
prior = 45

[logic@bar_dolg_general_animpoint_kamp2]
active = animpoint@bar_dolg_general_animpoint_kamp2
suitable = {=npc_community(dolg) !surge_started} true
prior = 45

[logic@bar_dolg_general_animpoint_kamp3]
active = animpoint@bar_dolg_general_animpoint_kamp3
suitable = {=npc_community(dolg) !surge_started} true
prior = 45

[logic@bar_dolg_general_animpoint_kamp4]
active = animpoint@bar_dolg_general_animpoint_kamp4
suitable = {=npc_community(dolg) !surge_started} true
prior = 45


[animpoint@bar_dolg_general_animpoint_kamp1]
cover_name = bar_dolg_general_animpoint_kamp1
use_camp = true
on_info = {=surge_started} walker@hide_1
on_info2 = {=is_heavy_rain} animpoint@bar_dolg_general_animpoint_kamp5
turn_on_campfire = true 
meet = meet@bar_dolg_general_animpoint
on_game_timer = 10800 | {!is_rain} animpoint@bar_smart_cover_otzhiman_1

[walker@hide_1]
path_walk = surge_11_walk
;path_look =
on_info = {=surge_complete} animpoint@bar_dolg_general_animpoint_kamp1
turn_on_campfire = true 

[animpoint@bar_dolg_general_animpoint_kamp2]
cover_name = bar_dolg_general_animpoint_kamp2
use_camp = true
on_info = {=surge_started} walker@hide_2
on_info2 = {=is_heavy_rain} animpoint@bar_dolg_general_animpoint_kamp6
turn_on_campfire = true 
meet = meet@bar_dolg_general_animpoint
on_game_timer = 10800 | {!is_rain} animpoint@bar_smart_cover_otzhiman_2

[walker@hide_2]
path_walk = surge_12_walk
;path_look =
on_info = {=surge_complete} animpoint@bar_dolg_general_animpoint_kamp2

[animpoint@bar_dolg_general_animpoint_kamp3]
cover_name = bar_dolg_general_animpoint_kamp3
use_camp = true
on_info = {=surge_started} walker@hide_3
on_info2 = {=is_heavy_rain} animpoint@bar_dolg_general_animpoint_kamp7
turn_on_campfire = true 
meet = meet@bar_dolg_general_animpoint
on_game_timer = 10800 | {!is_rain} animpoint@bar_smart_cover_otzhiman_3

[walker@hide_3]
path_walk = surge_13_walk
;path_look =
on_info = {=surge_complete} animpoint@bar_dolg_general_animpoint_kamp3

[animpoint@bar_dolg_general_animpoint_kamp4]
cover_name = bar_dolg_general_animpoint_kamp4
use_camp = true
on_info = {=surge_started} walker@hide_4
on_info2 = {=is_heavy_rain} animpoint@bar_dolg_general_animpoint_kamp8
turn_on_campfire = true 
on_game_timer = 10800 | {!is_rain} animpoint@bar_smart_cover_otzhiman_4

[walker@hide_4]
path_walk = surge_14_walk
;path_look =
on_info = {=surge_complete} animpoint@bar_dolg_general_animpoint_kamp4

[logic@bar_dolg_general_zoneguard]
suitable = {=check_npc_name(bar_dolg_general_zoneguard_stalker)} true
prior = 200
active = walker@zoneguard

[walker@zoneguard]
path_walk = angar_zoneguard_walk
path_look = angar_zoneguard_look
meet = meet@zoneguard
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
on_actor_in_zone = bar_angar_warn_zone | %=play_sound(bar_dolg_hangar_bridge_hello)%
;turn_on_campfire = true 

[meet@zoneguard]
use = true
use_wpn = true
;meet_dialog = bar_dolg_zastava

[meet@bar_dolg_general_animpoint]
close_snd_hello = {=check_npc_name(monolith)} nil, {=is_wounded} nil, {!is_squad_commander} nil, {=actor_enemy} nil, {=actor_has_weapon} meet_hide_weapon, meet_hello
close_snd_bye 	= {=check_npc_name(monolith)} nil, {=is_wounded} nil, {!is_squad_commander} nil, {=actor_enemy} nil, {=actor_has_weapon} nil, meet_hello
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_distance 	= 0
far_distance 	= 0
use = {=actor_enemy} false, {=dist_to_actor_le(3)} true, false
snd_on_use = {!dist_to_actor_le(3)} nil
meet_on_talking = false

;duty trader
[logic@bar_dolg_general_petrenko]
suitable = {=check_npc_name(bar_dolg_general_petrenko_stalker)} true, {=check_npc_trader} true
prior = 200
active = animpoint@stand
level_spot = trader
trade = items\trade\trade_duty.ltx
can_select_weapon = {=is_warfare} true, false
dont_keep_items = true

[animpoint@stand]
cover_name = bar_dolg_general_petrenko_smart_cover
reach_movement = walk_noweap
avail_animations = jup_b41_novikov_stand
use_camp = false
meet = meet@trader
on_game_timer = 10800 | {!is_rain} walker@otzhiman_petrenko
combat_ignore_cond = {=is_warfare} false, {=actor_true_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = {=is_warfare} false, true
invulnerable = {=is_warfare} false, {!actor_true_enemy} true, false
reach_distance = 10
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false

[meet@trader]
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_distance  = 0
far_distance 	= 0
close_snd_distance = 3
use = {=actor_enemy} false, true
trade_enable = false	;

;camping night
[logic@bar_dolg_general_animpoint_kamp5]
active = animpoint@bar_dolg_general_animpoint_kamp5
suitable = {=npc_community(dolg) !surge_started} true
prior = 45

[logic@bar_dolg_general_animpoint_kamp6]
active = animpoint@bar_dolg_general_animpoint_kamp6
suitable = {=npc_community(dolg) !surge_started} true
prior = 45

[logic@bar_dolg_general_animpoint_kamp7]
active = animpoint@bar_dolg_general_animpoint_kamp7
suitable = {=npc_community(dolg) !surge_started} true
prior = 45

[logic@bar_dolg_general_animpoint_kamp8]
active = animpoint@bar_dolg_general_animpoint_kamp8
suitable = {=npc_community(dolg) !surge_started} true
prior = 45

[animpoint@bar_dolg_general_animpoint_kamp5]
cover_name = bar_dolg_general_animpoint_kamp5
use_camp = true
on_info = {!is_heavy_rain} animpoint@bar_dolg_general_animpoint_kamp1

[animpoint@bar_dolg_general_animpoint_kamp6]
cover_name = bar_dolg_general_animpoint_kamp6
use_camp = true
on_info = {!is_heavy_rain} animpoint@bar_dolg_general_animpoint_kamp2

[animpoint@bar_dolg_general_animpoint_kamp7]
cover_name = bar_dolg_general_animpoint_kamp7
use_camp = true
on_info = {!is_heavy_rain} animpoint@bar_dolg_general_animpoint_kamp3
meet = meet_random

[animpoint@bar_dolg_general_animpoint_kamp8]
cover_name = bar_dolg_general_animpoint_kamp8
use_camp = true
on_info = {!is_heavy_rain} animpoint@bar_dolg_general_animpoint_kamp4
meet = meet_random

[meet_random]
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_distance  = 0
far_distance 	= 0
close_snd_distance = 6
abuse           = false
use = false
allow_break = false
meet_on_talking = false

;physic
[animpoint@bar_smart_cover_otzhiman_1]
cover_name = bar_smart_cover_otzhiman_1
use_camp = false
on_info = {=surge_started} walker@hide_1
turn_on_campfire = false
meet = no_meet
avail_animations = otzhiman
on_game_timer = 3600 | animpoint@bar_dolg_general_animpoint_kamp1

[animpoint@bar_smart_cover_otzhiman_2]
cover_name = bar_smart_cover_otzhiman_2
use_camp = false
on_info = {=surge_started} walker@hide_2
turn_on_campfire = false
meet = no_meet
avail_animations = otzhiman
on_game_timer = 3600 | animpoint@bar_dolg_general_animpoint_kamp2

[animpoint@bar_smart_cover_otzhiman_3]
cover_name = bar_smart_cover_otzhiman_3
use_camp = false
on_info = {=surge_started} walker@hide_3
turn_on_campfire = false
meet = no_meet
avail_animations = otzhiman
on_game_timer = 3600 | animpoint@bar_dolg_general_animpoint_kamp3

[animpoint@bar_smart_cover_otzhiman_4]
cover_name = bar_smart_cover_otzhiman_4
use_camp = false
on_info = {=surge_started} walker@hide_4
turn_on_campfire = false
meet = no_meet
avail_animations = otzhiman
on_game_timer = 3600 | animpoint@bar_dolg_general_animpoint_kamp4

[walker@otzhiman_petrenko]
path_walk = otzhiman_petrenko_walk
path_look = otzhiman_petrenko_look
on_info = {=surge_started} animpoint@stand
on_game_timer = 3600 | animpoint@stand
meet = no_meet
combat_ignore_cond = {=is_warfare} false, {=actor_true_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = {=is_warfare} false, true
corpse_detection_enabled = false
gather_items_enabled = false
help_wounded_enabled = false
invulnerable = {=is_warfare} false, {!actor_true_enemy} true, false