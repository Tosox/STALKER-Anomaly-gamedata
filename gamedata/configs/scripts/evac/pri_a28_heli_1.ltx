[logic]
active = heli_move@under_level

[heli_move@under_level]
path_move = pri_a28_heli_under_level_1
path_look = pri_a28_heli_way_1
max_velocity = 100
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
engine_sound = false
on_info = {+pri_b305_fifth_cam_end} heli_move@start
;Затычка
on_info2 = {+pri_a28_cutscene_start} heli_move@land %+pri_a28_helis_added =spawn_object(pri_a28_earth_helli_1:pri_a28_heli_landing_way_1:0:215) =spawn_object(pri_a28_earth_helli_2:pri_a28_heli_landing_way_2:0:210)%

[heli_move@start]
path_move = pri_a28_heli_start_1
path_look = pri_a28_heli_way_1
max_velocity = 100
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
engine_sound = false
on_info = {+pri_a28_update_task_cover_strelok} heli_move@flyby

[heli_move@flyby]
path_move = pri_a28_heli_way_1
path_look = pri_a28_heli_cutscene_move_1
max_velocity = 100
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
on_info = {-pri_a28_heli_near_base =npc_in_zone(pri_a28_heli_near_base)} %+pri_a28_heli_near_base%
on_info2 = {=npc_in_zone(pri_a28_heli_landing_zone)} heli_move@land %+pri_a28_helis_added =spawn_object(pri_a28_earth_helli_1:pri_a28_heli_landing_way_1:0:215) =spawn_object(pri_a28_earth_helli_2:pri_a28_heli_landing_way_2:0:210)%

[heli_move@land]
path_move = pri_a28_heli_land_move_1
path_look = pri_a28_heli_land_look_1
max_velocity = 100
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
engine_sound = false
on_info = {+pri_a28_helis_leave} heli_move@cutscene

[heli_move@cutscene]
path_move = pri_a28_heli_cutscene_move_1
path_look = pri_a28_heli_cutscene_move_1_2
max_velocity = 100
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
on_info = {=npc_in_zone(pri_a28_helli_start_away_zone)} heli_move@fly_over %+pri_a28_heli_fly_over%
;on_info2 = {+pri_a28_heli_fly_over} heli_move@fly_over

[heli_move@fly_over]
path_move = pri_a28_heli_cutscene_move_1_2
path_look = pri_a28_heli_cutscene_move_away_1
max_velocity = 100
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
on_game_timer = 50 | heli_move@cutscene_away

[heli_move@cutscene_away]
path_move = pri_a28_heli_cutscene_move_away_1
max_velocity = 100
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} false, true
combat_ignore_keep_when_attacked = true
on_info = {=npc_in_zone(pri_a28_scene_end_hellis_destroy_zone)} %=destroy_object%
