[logic@zat_b42_controller]
suitable = {=is_monster_controller} true
active = mob_home@2
monster_job = true
prior = 100
on_death = death
on_combat = combat 

[mob_home@2]
path_home = mob_home
home_min_radius = 5
home_max_radius = 10
on_info = {=actor_in_zone(zat_b42_warning_space_restrictor)} mob_home@1
out_restr = zat_b42_warning_space_restrictor
on_info2 = {!npc_in_zone(zat_b42_warning_space_restrictor)} %=teleport_npc(zat_b42_smart_terrain_mob_home)%

[mob_home@1]
path_home = mob_home
home_min_radius = 20
home_max_radius = 30
out_restr = zat_b42_warning_space_restrictor
on_info = {!actor_in_zone(zat_b42_warning_space_restrictor)} mob_home@2

[combat]
out_restr = zat_b42_warning_space_restrictor
	
[death]
on_info = %+zat_b42_controller_dead%